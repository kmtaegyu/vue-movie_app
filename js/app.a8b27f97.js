(function(){"use strict";var e={6344:function(e,t,o){o(4114),o(4603),o(7566),o(8721);var s=o(5796);const a={id:"app"};function i(e,t,o,i,n,l){const r=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.bF)(r,null,{default:(0,s.k6)((({Component:e})=>[(0,s.bF)(s.eB,{name:"fade",mode:"out-in"},{default:(0,s.k6)((()=>[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e)))])),_:2},1024)])),_:1})])}var n={name:"App"},l=o(1241);const r=(0,l.A)(n,[["render",i]]);var c=r,u=o(1387);const d={class:"auth-page"},h={key:"login"},p={key:"signup"};function g(e,t,o,a,i,n){return(0,s.uX)(),(0,s.CE)("div",d,[(0,s.bF)(s.eB,{name:"fade"},{default:(0,s.k6)((()=>[i.isLoginView?((0,s.uX)(),(0,s.CE)("div",h,[(0,s.Lk)("form",{class:"auth-form",onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[t[12]||(t[12]=(0,s.Lk)("h2",null,"Sign in",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.loginData.email=e),type:"email",placeholder:"Email",required:""},null,512),[[s.Jo,i.loginData.email]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.loginData.password=e),type:"password",placeholder:"Password",required:""},null,512),[[s.Jo,i.loginData.password]]),t[13]||(t[13]=(0,s.Lk)("button",{type:"submit"},"Login",-1)),(0,s.Lk)("p",null,[t[11]||(t[11]=(0,s.eW)(" Don't have an account? ")),(0,s.Lk)("a",{href:"#",onClick:t[2]||(t[2]=(0,s.D$)(((...e)=>n.toggleView&&n.toggleView(...e)),["prevent"]))},"Sign up")])],32),(0,s.Lk)("button",{class:"kakao-login-button",onClick:t[4]||(t[4]=(0,s.D$)(((...e)=>n.kakaoLogin&&n.kakaoLogin(...e)),["prevent"]))},"카카오 로그인")])):((0,s.uX)(),(0,s.CE)("div",p,[(0,s.Lk)("form",{class:"auth-form",onSubmit:t[10]||(t[10]=(0,s.D$)(((...e)=>n.register&&n.register(...e)),["prevent"]))},[t[16]||(t[16]=(0,s.Lk)("h2",null,"Sign up",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.signupData.email=e),type:"email",placeholder:"Email",required:""},null,512),[[s.Jo,i.signupData.email]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.signupData.password=e),type:"password",placeholder:"Password",required:""},null,512),[[s.Jo,i.signupData.password]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.signupData.confirmPassword=e),type:"password",placeholder:"Confirm Password",required:""},null,512),[[s.Jo,i.signupData.confirmPassword]]),(0,s.Lk)("label",null,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.signupData.termsAccepted=e),type:"checkbox",required:""},null,512),[[s.lH,i.signupData.termsAccepted]]),t[14]||(t[14]=(0,s.eW)(" I accept the terms "))]),t[17]||(t[17]=(0,s.Lk)("button",{type:"submit"},"Register",-1)),(0,s.Lk)("p",null,[t[15]||(t[15]=(0,s.eW)(" Already have an account? ")),(0,s.Lk)("a",{href:"#",onClick:t[9]||(t[9]=(0,s.D$)(((...e)=>n.toggleView&&n.toggleView(...e)),["prevent"]))},"Sign in")])],32)]))])),_:1})])}o(6573),o(8100),o(7936),o(7467),o(4732),o(9577),o(8992),o(2577),o(1454),o(7550);var m=o(4373),v={data(){return{isLoginView:!0,loginData:{email:"",password:""},signupData:{email:"",password:"",confirmPassword:"",termsAccepted:!1}}},methods:{toggleView(){this.isLoginView=!this.isLoginView},async hashPassword(e){const t=new TextEncoder,o=t.encode(e),s=await crypto.subtle.digest("SHA-256",o),a=Array.from(new Uint8Array(s));return a.map((e=>e.toString(16).padStart(2,"0"))).join("")},async register(){const e=JSON.parse(localStorage.getItem("users")||"[]");if(e.some((e=>e.email===this.signupData.email)))return void alert("This email is already registered!");if(this.signupData.password!==this.signupData.confirmPassword)return void alert("Passwords do not match!");if(!this.signupData.termsAccepted)return void alert("You must accept the terms to register.");const t=await this.hashPassword(this.signupData.password);e.push({email:this.signupData.email,password:t}),localStorage.setItem("users",JSON.stringify(e)),alert("Registration successful! Please log in."),this.toggleView()},async login(){const e=JSON.parse(localStorage.getItem("users")||"[]"),t=await this.hashPassword(this.loginData.password),o=e.find((e=>e.email===this.loginData.email&&e.password===t));o?(alert(`Welcome, ${this.loginData.email}!`),localStorage.setItem("authToken",o.email),this.$router.push("/dashboard")):alert("Invalid email or password.")},kakaoLogin(){if(!window.Kakao.isInitialized())return void alert("Kakao SDK가 초기화되지 않았습니다.");console.log("Redirect URI:","http://localhost:8080"),window.Kakao.Auth.authorize({redirectUri:"http://localhost:8080"});const e=new URLSearchParams(window.location.search),t=e.get("code");console.log("추출된 인증 코드:",t);const o=new URL(window.location.href);if(o.searchParams.has("code")){const e=o.searchParams.get("code");console.log("Authorization Code:",e),o.searchParams.delete("code"),window.history.replaceState({},document.title,o.toString()),console.log("URL에서 인증 코드 제거 완료:",o.toString())}},async fetchAccessToken(e){if(console.log("Authorization Code로 Access Token 요청 시작:",e),localStorage.getItem("usedAuthCode")===e)return console.warn("이미 사용된 인증 코드입니다."),void alert("이 인증 코드는 이미 사용되었습니다. 다시 로그인해주세요.");try{const t=await m.A.post("https://kauth.kakao.com/oauth/token",null,{params:{grant_type:"authorization_code",client_id:"71587042533518dad9cdfc92f0d630fc",redirect_uri:"http://localhost:8080",code:e},headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{access_token:o}=t.data;console.log("Access Token 응답 데이터:",t.data),console.log("Access Token:",o),localStorage.setItem("kakaoAccessToken",o),localStorage.setItem("usedAuthCode",e),alert("카카오 로그인 성공!"),await this.fetchUserInfo(o),this.$router.push("/dashboard").catch((e=>{console.error("Router navigation failed:",e)}))}catch(t){console.error("Access Token 요청 실패:",t.response||t.message||t),alert("Access Token을 가져오는 데 실패했습니다.")}},async fetchUserInfo(e){try{console.log("전달된 액세스 토큰:",e);const t=await m.A.get("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${e}`}});console.log("카카오 사용자 정보 API 응답:",t.data);const{properties:o}=t.data,s=o?.nickname||"Anonymous",a=o?.profile_image||"";localStorage.setItem("nickname",s),localStorage.setItem("profileImage",a),console.log("사용자 정보 저장 완료:",{nickname:s,profileImage:a}),alert(`환영합니다, ${s}!`),this.$router.push("/dashboard")}catch(t){console.error("사용자 정보 요청 실패:",t.response?.data||t.message),alert("사용자 정보를 가져오는 데 실패했습니다.")}console.log("사용자 정보 가져오기 성공!")}},created(){const e=new URLSearchParams(window.location.search),t=e.get("code");if(console.log("URL에서 추출된 인증 코드:",t),t){this.fetchAccessToken(t);const e=new URL(window.location.href);e.searchParams.delete("code"),window.history.replaceState({},document.title,e.toString()),console.log("URL에서 인증 코드 제거 완료:",e.toString())}}};const k=(0,l.A)(v,[["render",g],["__scopeId","data-v-6fe1585d"]]);var f=k;const w={class:"dashboard"},b={class:"user-info"},L=["src"],y={key:1},_={key:0,class:"loading"},C={key:1,class:"section"},I={class:"movies"},A=["src"],M=["onClick"],P={key:2,class:"section"},S={class:"movies"},E=["src"],X=["onClick"],W={key:3,class:"section"},D={class:"movies"},R=["src"],$=["onClick"];function T(e,t,o,a,i,n){const l=(0,s.g2)("AppHeader");return(0,s.uX)(),(0,s.CE)("div",w,[(0,s.bF)(l),t[5]||(t[5]=(0,s.Lk)("h1",null,"Welcome to User Dashboard",-1)),(0,s.Lk)("div",b,[t[1]||(t[1]=(0,s.Lk)("h2",null,"사용자 정보:",-1)),(0,s.Lk)("p",null,"닉네임: "+(0,s.v_)(i.nickname),1),i.profileImage?((0,s.uX)(),(0,s.CE)("img",{key:0,src:i.profileImage,alt:"Profile",class:"profile-image"},null,8,L)):((0,s.uX)(),(0,s.CE)("p",y,"프로필 이미지가 없습니다."))]),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e)),class:"logout-button"},"Logout"),i.loading?((0,s.uX)(),(0,s.CE)("div",_,"로딩 중...")):(0,s.Q3)("",!0),i.popularMovies.length?((0,s.uX)(),(0,s.CE)("div",C,[t[2]||(t[2]=(0,s.Lk)("h2",{class:"section-title"},"인기 영화",-1)),(0,s.Lk)("div",I,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.popularMovies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card"},[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/w500"+e.poster_path,alt:"Movie Poster"},null,8,A),(0,s.Lk)("h3",null,(0,s.v_)(e.title),1),(0,s.Lk)("button",{onClick:t=>n.toggleWishlist(e),class:"wishlist-button"},(0,s.v_)(n.isInWishlist(e)?"Remove from Wishlist":"Add to Wishlist"),9,M)])))),128))])])):(0,s.Q3)("",!0),i.latestMovies.length?((0,s.uX)(),(0,s.CE)("div",P,[t[3]||(t[3]=(0,s.Lk)("h2",{class:"section-title"},"최신 영화",-1)),(0,s.Lk)("div",S,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.latestMovies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card"},[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/w500"+e.poster_path,alt:"Movie Poster"},null,8,E),(0,s.Lk)("h3",null,(0,s.v_)(e.title),1),(0,s.Lk)("button",{onClick:t=>n.toggleWishlist(e),class:"wishlist-button"},(0,s.v_)(n.isInWishlist(e)?"Remove from Wishlist":"Add to Wishlist"),9,X)])))),128))])])):(0,s.Q3)("",!0),i.actionMovies.length?((0,s.uX)(),(0,s.CE)("div",W,[t[4]||(t[4]=(0,s.Lk)("h2",{class:"section-title"},"액션 영화",-1)),(0,s.Lk)("div",D,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.actionMovies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card"},[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/w500"+e.poster_path,alt:"Movie Poster"},null,8,R),(0,s.Lk)("h3",null,(0,s.v_)(e.title),1),(0,s.Lk)("button",{onClick:t=>n.toggleWishlist(e),class:"wishlist-button"},(0,s.v_)(n.isInWishlist(e)?"Remove from Wishlist":"Add to Wishlist"),9,$)])))),128))])])):(0,s.Q3)("",!0)])}o(3949);const U={class:"navbar"},F={class:"navbar-links"},K={key:0},V={class:"welcome-message"},O={key:1};function j(e,t,o,a,i,n){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",U,[t[6]||(t[6]=(0,s.Lk)("div",{class:"logo"},[(0,s.Lk)("h1",null,"MovieApp")],-1)),(0,s.Lk)("nav",F,[(0,s.bF)(l,{to:"/dashboard"},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.eW)("홈")]))),_:1}),(0,s.bF)(l,{to:"/popular"},{default:(0,s.k6)((()=>t[3]||(t[3]=[(0,s.eW)("대세 콘텐츠")]))),_:1}),(0,s.bF)(l,{to:"/search"},{default:(0,s.k6)((()=>t[4]||(t[4]=[(0,s.eW)("찾아보기")]))),_:1}),(0,s.bF)(l,{to:"/wishlist"},{default:(0,s.k6)((()=>t[5]||(t[5]=[(0,s.eW)("내가 찜한 콘텐츠")]))),_:1}),n.isLoggedIn?((0,s.uX)(),(0,s.CE)("span",K,[(0,s.Lk)("span",V,"Welcome, "+(0,s.v_)(i.nickname||"Guest")+"!",1),(0,s.Lk)("button",{class:"logout-button",onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e))},"Logout")])):((0,s.uX)(),(0,s.CE)("span",O,[(0,s.Lk)("button",{class:"login-button",onClick:t[1]||(t[1]=(...e)=>n.goToLogin&&n.goToLogin(...e))},"Login")]))])])}var q={name:"AppHeader",data(){return{nickname:localStorage.getItem("nickname"),profileImage:localStorage.getItem("profileImage")}},computed:{isLoggedIn(){return!!localStorage.getItem("authToken")}},methods:{logout(){localStorage.removeItem("authToken"),localStorage.removeItem("nickname"),localStorage.removeItem("profileImage"),this.$router.push("/")},goToLogin(){this.$router.push("/login")}}};const x=(0,l.A)(q,[["render",j],["__scopeId","data-v-6a31cec6"]]);var J=x,H=(o(7917),o(4009)),N=o.n(H),z={components:{AppHeader:J},data(){return{loading:!1,popularMovies:[],latestMovies:[],actionMovies:[],wishlist:[],nickname:localStorage.getItem("nickname")||"Anonymous",profileImage:localStorage.getItem("profileImage")}},methods:{async fetchMovies(){const e="82313e915c2066d13bffefeeb13b1d31";if(e)if(navigator.onLine){this.loading=!0;try{const t=`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=1`,o=await fetch(t);if(!o.ok)throw new Error(`Error ${o.status}: ${o.statusText}`);const s=await o.json();this.popularMovies=s.results;const a=`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=1`,i=await fetch(a);if(!i.ok)throw new Error(`Error ${i.status}: ${i.statusText}`);const n=await i.json();this.latestMovies=n.results;const l=`https://api.themoviedb.org/3/discover/movie?api_key=${e}&language=ko-KR&with_genres=28&page=1`,r=await fetch(l);if(!r.ok)throw new Error(`Error ${r.status}: ${r.statusText}`);const c=await r.json();this.actionMovies=c.results}catch(t){console.error("Error fetching movies:",t),this.showErrorMessage("영화 데이터를 불러오는 데 실패했습니다. 다시 시도해주세요.")}finally{this.loading=!1}}else this.showErrorMessage("네트워크 연결이 끊어졌습니다. 연결 상태를 확인해주세요.");else console.error("API Key가 설정되지 않았습니다. .env 파일을 확인해주세요.")},toggleWishlist(e){const t=this.wishlist.findIndex((t=>t.id===e.id));-1===t?this.wishlist.push(e):this.wishlist.splice(t,1),localStorage.setItem("movieWishlist",JSON.stringify(this.wishlist))},isInWishlist(e){return this.wishlist.some((t=>t.id===e.id))},loadWishlist(){const e=localStorage.getItem("movieWishlist");this.wishlist=e?JSON.parse(e):[]},logout(){localStorage.removeItem("authToken"),this.$router.push("/")},showErrorMessage(e){this.$toast.error(e,{timeout:5e3})}},created(){this.loadWishlist(),this.fetchMovies()},setupSwipe(){const e=document.querySelectorAll(".movies");e.forEach((e=>{const t=new(N())(e);t.on("swipeleft",(()=>{e.scrollBy({left:300,behavior:"smooth"})})),t.on("swiperight",(()=>{e.scrollBy({left:-300,behavior:"smooth"})}))}))},mounted(){this.loadWishlist(),this.fetchMovies()}};const G=(0,l.A)(z,[["render",T],["__scopeId","data-v-a62bc6e0"]]);var Q=G;const Y={class:"not-found"};function B(e,t,o,a,i,n){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Y,[t[1]||(t[1]=(0,s.Lk)("h1",null,"404 - Page Not Found",-1)),(0,s.bF)(l,{to:"/"},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.eW)("Go to Sign In")]))),_:1})])}var Z={name:"NotFound"};const ee=(0,l.A)(Z,[["render",B],["__scopeId","data-v-724d1e81"]]);var te=ee;const oe={class:"popular-page"},se={class:"content-container"},ae={class:"view-toggle"},ie={key:0,class:"table-view"},ne=["src"],le={key:0},re={class:"pagination"},ce=["disabled"],ue=["disabled"],de={key:1,class:"scroll-view"},he={class:"movies"},pe=["src"],ge={key:0,class:"loading"},me={key:1,class:"no-movies"};function ve(e,t,o,a,i,n){const l=(0,s.g2)("AppHeader");return(0,s.uX)(),(0,s.CE)("div",oe,[(0,s.bF)(l),(0,s.Lk)("div",se,[t[6]||(t[6]=(0,s.Lk)("h1",{class:"page-title"},"대세 콘텐츠",-1)),(0,s.Lk)("div",ae,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>n.updateViewMode("table"))},"테이블 뷰"),(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>n.updateViewMode("scroll"))},"무한 스크롤")]),"table"===i.viewMode?((0,s.uX)(),(0,s.CE)("div",ie,[(0,s.Lk)("table",null,[t[5]||(t[5]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"포스터"),(0,s.Lk)("th",null,"영화 제목"),(0,s.Lk)("th",null,"평점"),(0,s.Lk)("th",null,"개봉일")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.paginatedMovies,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id},[(0,s.Lk)("td",null,[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/w200"+e.poster_path,alt:"Movie Poster"},null,8,ne)]),(0,s.Lk)("td",null,(0,s.v_)(e.title),1),(0,s.Lk)("td",null,(0,s.v_)(e.vote_average),1),(0,s.Lk)("td",null,(0,s.v_)(e.release_date),1)])))),128)),i.paginatedMovies.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("tr",le,t[4]||(t[4]=[(0,s.Lk)("td",{colspan:"4"},"영화 데이터가 없습니다.",-1)])))])]),(0,s.Lk)("div",re,[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.previousPage&&n.previousPage(...e)),disabled:1===i.currentPage},"이전",8,ce),(0,s.Lk)("span",null,"페이지 "+(0,s.v_)(i.currentPage),1),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.nextPage&&n.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음",8,ue)])])):(0,s.Q3)("",!0),"scroll"===i.viewMode?((0,s.uX)(),(0,s.CE)("div",de,[(0,s.Lk)("div",he,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.movies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card"},[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/w500"+e.poster_path,alt:"Movie Poster"},null,8,pe),(0,s.Lk)("h3",null,(0,s.v_)(e.title),1),(0,s.Lk)("p",null,"평점: "+(0,s.v_)(e.vote_average),1),(0,s.Lk)("p",null,"개봉일: "+(0,s.v_)(e.release_date),1)])))),128))]),i.loading?((0,s.uX)(),(0,s.CE)("div",ge,"로딩 중...")):(0,s.Q3)("",!0),i.loading||0!==i.movies.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",me," 대세 콘텐츠를 찾을 수 없습니다. "))])):(0,s.Q3)("",!0)])])}o(4520);var ke={components:{AppHeader:J},data(){return{movies:[],paginatedMovies:[],viewMode:"table",currentPage:1,totalPages:1,itemsPerPage:10,loading:!1}},methods:{async fetchPopularMovies(e=1){if(this.loading)return;const t="82313e915c2066d13bffefeeb13b1d31",o=`https://api.themoviedb.org/3/movie/popular?api_key=${t}&language=ko-KR&page=${e}`;this.loading=!0;try{const e=await fetch(o),t=await e.json();if(t.results){const e=t.results.filter((e=>!this.movies.some((t=>t.id===e.id))));this.movies=[...this.movies,...e],this.totalPages=t.total_pages,this.updatePaginatedMovies()}}catch(s){console.error("영화 데이터를 가져오는 중 오류 발생:",s),alert("영화 데이터를 불러오는 중 문제가 발생했습니다.")}finally{this.loading=!1}},updatePaginatedMovies(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;this.paginatedMovies=this.movies.slice(e,t)},nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updatePaginatedMovies())},previousPage(){this.currentPage>1&&(this.currentPage--,this.updatePaginatedMovies())},handleScroll(){const e=window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-50;e&&"scroll"===this.viewMode&&!this.loading&&this.fetchPopularMovies(this.currentPage+1)},updateViewMode(e){this.viewMode=e}},created(){this.fetchPopularMovies()},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}};const fe=(0,l.A)(ke,[["render",ve],["__scopeId","data-v-1fb52558"]]);var we=fe;const be={class:"search-page"},Le={class:"search-container"},ye={class:"search-bar"},_e={class:"filter-options"},Ce=["value"],Ie={key:0,class:"movies"},Ae=["src"],Me={key:1};function Pe(e,t,o,a,i,n){const l=(0,s.g2)("AppHeader");return(0,s.uX)(),(0,s.CE)("div",be,[(0,s.bF)(l),(0,s.Lk)("div",Le,[t[13]||(t[13]=(0,s.Lk)("h2",{class:"page-title"},"찾아보기",-1)),(0,s.Lk)("div",ye,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.query=e),onKeyup:t[1]||(t[1]=(0,s.jR)(((...e)=>n.searchMovies&&n.searchMovies(...e)),["enter"])),type:"text",placeholder:"영화 제목을 입력하세요..."},null,544),[[s.Jo,i.query]]),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.searchMovies&&n.searchMovies(...e))},"검색")]),(0,s.Lk)("div",_e,[(0,s.Lk)("label",null,[t[10]||(t[10]=(0,s.eW)(" 장르: ")),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedGenre=e),onChange:t[4]||(t[4]=(...e)=>n.filterMovies&&n.filterMovies(...e))},[t[9]||(t[9]=(0,s.Lk)("option",{value:""},"전체",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.genres,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,Ce)))),128))],544),[[s.u1,i.selectedGenre]])]),(0,s.Lk)("label",null,[t[11]||(t[11]=(0,s.eW)(" 평점: ")),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>i.minRating=e),onInput:t[6]||(t[6]=(...e)=>n.filterMovies&&n.filterMovies(...e)),placeholder:"최소 평점"},null,544),[[s.Jo,i.minRating]])]),(0,s.Lk)("label",null,[t[12]||(t[12]=(0,s.eW)(" 개봉 연도: ")),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>i.releaseYear=e),onInput:t[8]||(t[8]=(...e)=>n.filterMovies&&n.filterMovies(...e)),placeholder:"연도"},null,544),[[s.Jo,i.releaseYear]])])]),i.filteredMovies.length?((0,s.uX)(),(0,s.CE)("div",Ie,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.filteredMovies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card"},[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/w500"+e.poster_path,alt:"Movie Poster"},null,8,Ae),(0,s.Lk)("h3",null,(0,s.v_)(e.title),1),(0,s.Lk)("p",null,"평점: "+(0,s.v_)(e.vote_average),1),(0,s.Lk)("p",null,"개봉: "+(0,s.v_)(e.release_date),1)])))),128))])):((0,s.uX)(),(0,s.CE)("p",Me,"검색 결과가 없습니다."))])])}var Se={components:{AppHeader:J},data(){return{query:"",genres:[],selectedGenre:"",minRating:"",releaseYear:"",movies:[],filteredMovies:[]}},methods:{async fetchGenres(){try{const e="82313e915c2066d13bffefeeb13b1d31",t=`https://api.themoviedb.org/3/genre/movie/list?api_key=${e}&language=ko-KR`,o=await fetch(t),s=await o.json();this.genres=s.genres}catch(e){console.error("장르 데이터를 가져오는 중 오류 발생:",e),this.genres=[]}},async searchMovies(){const e="82313e915c2066d13bffefeeb13b1d31",t=`https://api.themoviedb.org/3/search/movie?api_key=${e}&language=ko-KR&query=${this.query}`,o=await fetch(t),s=await o.json();this.movies=s.results,this.filteredMovies=this.movies},filterMovies(){this.filteredMovies=this.movies.filter((e=>{const t=""===this.selectedGenre||e.genre_ids.includes(Number(this.selectedGenre)),o=""===this.minRating||e.vote_average>=Number(this.minRating),s=""===this.releaseYear||e.release_date?.startsWith(this.releaseYear);return t&&o&&s}))}},created(){this.fetchGenres()}};const Ee=(0,l.A)(Se,[["render",Pe],["__scopeId","data-v-595b799c"]]);var Xe=Ee;const We={class:"wishlist-page"},De={key:0,class:"movies"},Re=["src"],$e=["onClick"],Te={key:1};function Ue(e,t,o,a,i,n){const l=(0,s.g2)("AppHeader");return(0,s.uX)(),(0,s.CE)("div",We,[(0,s.bF)(l),t[1]||(t[1]=(0,s.Lk)("h2",{class:"page-title"},"내가 찜한 리스트",-1)),i.wishlist.length?((0,s.uX)(),(0,s.CE)("div",De,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.wishlist,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card"},[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/w500"+e.poster_path,alt:"Movie Poster"},null,8,Re),(0,s.Lk)("h3",null,(0,s.v_)(e.title),1),(0,s.Lk)("button",{onClick:t=>n.removeFromWishlist(e)},"Remove",8,$e)])))),128))])):((0,s.uX)(),(0,s.CE)("div",Te,t[0]||(t[0]=[(0,s.Lk)("p",null,"찜한 영화가 없습니다.",-1)])))])}var Fe={components:{AppHeader:J},data(){return{wishlist:[]}},methods:{loadWishlist(){const e=localStorage.getItem("movieWishlist");this.wishlist=e?JSON.parse(e):[]},removeFromWishlist(e){this.wishlist=this.wishlist.filter((t=>t.id!==e.id)),localStorage.setItem("movieWishlist",JSON.stringify(this.wishlist))}},created(){this.loadWishlist()}};const Ke=(0,l.A)(Fe,[["render",Ue],["__scopeId","data-v-175d076b"]]);var Ve=Ke;const Oe={key:0,class:"movie-details"},je=["src"];function qe(e,t,o,a,i,n){return i.movie?((0,s.uX)(),(0,s.CE)("div",Oe,[(0,s.Lk)("img",{src:"https://image.tmdb.org/t/p/w500"+i.movie.poster_path,alt:"Movie Poster"},null,8,je),(0,s.Lk)("h2",null,(0,s.v_)(i.movie.title),1),(0,s.Lk)("p",null,(0,s.v_)(i.movie.overview),1),(0,s.Lk)("p",null,"Rating: "+(0,s.v_)(i.movie.vote_average),1),(0,s.Lk)("p",null,"Release Date: "+(0,s.v_)(i.movie.release_date),1),(0,s.Lk)("p",null,"Genres: "+(0,s.v_)(i.movie.genres.map((e=>e.name)).join(", ")),1)])):(0,s.Q3)("",!0)}var xe={data(){return{movie:null}},methods:{async fetchMovieDetails(){const e="82313e915c2066d13bffefeeb13b1d31",t=this.$route.params.id,o=`https://api.themoviedb.org/3/movie/${t}?api_key=${e}&language=ko-KR`;try{const e=await fetch(o);this.movie=await e.json()}catch(s){console.error("Error fetching movie details:",s)}}},created(){this.fetchMovieDetails()}};const Je=(0,l.A)(xe,[["render",qe],["__scopeId","data-v-7547e48e"]]);var He=Je;const Ne=[{path:"/",component:f},{path:"/dashboard",component:Q,meta:{requiresAuth:!0}},{path:"/popular",component:we,meta:{requiresAuth:!0}},{path:"/search",component:Xe,meta:{requiresAuth:!0}},{path:"/wishlist",component:Ve,meta:{requiresAuth:!0}},{path:"/movie/:id",component:He,meta:{requiresAuth:!0}},{path:"/auth",redirect:"/dashboard"},{path:"/:pathMatch(.*)*",name:"NotFound",component:te}],ze=(0,u.aE)({history:(0,u.LA)(),routes:Ne});ze.beforeEach(((e,t,o)=>{const s=!!localStorage.getItem("authToken");e.meta.requiresAuth&&!s?o("/"):o()}));var Ge=ze,Qe=o(7411);const Ye=(0,s.Ef)(c);async function Be(e){console.log("Authorization Code:",e);try{const t=await m.A.post("https://kauth.kakao.com/oauth/token",null,{params:{grant_type:"authorization_code",client_id:"71587042533518dad9cdfc92f0d630fc",redirect_uri:"http://localhost:8080",code:e},headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{access_token:o}=t.data;localStorage.setItem("kakaoAccessToken",o),console.log("Access Token:",o),alert("로그인 성공!");const s=window.location.origin+window.location.pathname;window.history.replaceState(null,null,s),Ge.push("/dashboard")}catch(t){console.error("Access Token 요청 실패:",t.response?.data||t.message),alert("Access Token을 가져오는 데 실패했습니다.")}}Ye.use(Qe.Ay,{timeout:5e3,position:"top-right"}),Ye.use(Ge),window.Kakao.isInitialized()||(window.Kakao.init("71587042533518dad9cdfc92f0d630fc"),console.log("Kakao SDK 초기화 완료:",window.Kakao.isInitialized()));const Ze=new URLSearchParams(window.location.search),et=Ze.get("code");if(console.log("인증 코드:",et),et)if(localStorage.getItem("usedAuthCode")&&localStorage.getItem("usedAuthCode")===et)console.log("이미 사용된 인증 코드입니다.");else{localStorage.setItem("usedAuthCode",et),Be(et);const e=window.location.origin+window.location.pathname;window.history.replaceState(null,null,e),console.log("URL에서 인증 코드 제거 완료:",e)}else console.warn("인증 코드가 URL에 존재하지 않습니다.");Ye.mount("#app")}},t={};function o(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,s,a,i){if(!s){var n=1/0;for(u=0;u<e.length;u++){s=e[u][0],a=e[u][1],i=e[u][2];for(var l=!0,r=0;r<s.length;r++)(!1&i||n>=i)&&Object.keys(o.O).every((function(e){return o.O[e](s[r])}))?s.splice(r--,1):(l=!1,i<n&&(n=i));if(l){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[s,a,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,i,n=s[0],l=s[1],r=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(r)var u=r(o)}for(t&&t(s);c<n.length;c++)i=n[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},s=self["webpackChunkmy_vue_app"]=self["webpackChunkmy_vue_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[504],(function(){return o(6344)}));s=o.O(s)})();
//# sourceMappingURL=app.a8b27f97.js.map